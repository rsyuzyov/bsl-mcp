2025-12-21 17:24:11 - root - INFO - Запуск Multi-IB Code Search...
2025-12-21 17:24:11 - app.context - INFO - Инициализация ИБ: hrm31...
2025-12-21 17:24:32 - pymorphy3.opencorpora_dict.wrapper - INFO - Loading dictionaries from C:\Users\rsyuzyov\repo\bsl-mcp\.venv\Lib\site-packages\pymorphy3_dicts_ru\data
2025-12-21 17:24:32 - pymorphy3.opencorpora_dict.wrapper - INFO - format: 2.4, revision: 417150, updated: 2022-01-08T22:09:24.565962
2025-12-21 17:24:32 - app.context - INFO - ИБ hrm31 инициализирована
2025-12-21 17:24:32 - root - INFO - Сервер доступен на http://localhost:8004
2025-12-21 17:24:46 - ib.hrm31 - INFO - Обнаружены изменения, запуск индексации...
2025-12-21 17:24:59 - idx.code_hrm31 - INFO - [Incremental] Scanning 36505 files for changes...
2025-12-21 17:25:05 - idx.code_hrm31 - INFO - Scanned 19768/36505 files...
2025-12-21 17:25:10 - idx.code_hrm31 - INFO - Scanned 32078/36505 files...
2025-12-21 17:25:12 - idx.code_hrm31 - INFO - Scanning done. Found: +36505 ~0 -0
2025-12-21 17:25:12 - idx.code_hrm31 - INFO - [Incremental] Starting indexing...
2025-12-21 17:25:12 - idx.code_hrm31 - INFO - Processing file 0: ConfigDumpInfo.xml
2025-12-21 17:25:14 - idx.code_hrm31 - ERROR - Incremental Index Error: Ошибка модели: No module named 'optimum.onnxruntime'
Traceback (most recent call last):
  File "C:\Users\rsyuzyov\repo\bsl-mcp\code_search\indexer\engine.py", line 440, in incremental_reindex
    flush_batch()
  File "C:\Users\rsyuzyov\repo\bsl-mcp\code_search\indexer\engine.py", line 377, in flush_batch
    embeddings = self.embed_texts(texts)
                 ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\rsyuzyov\repo\bsl-mcp\code_search\indexer\engine.py", line 76, in embed_texts
    raise RuntimeError(f"Ошибка модели: {model_info.error}")
RuntimeError: Ошибка модели: No module named 'optimum.onnxruntime'
2025-12-21 17:25:14 - ib.hrm31 - ERROR - Ошибка в цикле обслуживания: Ошибка модели: No module named 'optimum.onnxruntime'
Traceback (most recent call last):
  File "C:\Users\rsyuzyov\repo\bsl-mcp\code_search\app_context.py", line 52, in _maintenance_loop
    self.engine.incremental_reindex(self.status)
  File "C:\Users\rsyuzyov\repo\bsl-mcp\code_search\indexer\engine.py", line 440, in incremental_reindex
    flush_batch()
  File "C:\Users\rsyuzyov\repo\bsl-mcp\code_search\indexer\engine.py", line 377, in flush_batch
    embeddings = self.embed_texts(texts)
                 ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\rsyuzyov\repo\bsl-mcp\code_search\indexer\engine.py", line 76, in embed_texts
    raise RuntimeError(f"Ошибка модели: {model_info.error}")
RuntimeError: Ошибка модели: No module named 'optimum.onnxruntime'
